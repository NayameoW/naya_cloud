

## 4 管程概述
### 4.1 概念的提出
管程试图抽象相关并发进程对共享变量进行访问，以提供一个友善的并发程序设计开发环境。管程由若干公共变量及其说明和所有访问这些变量的过程所组成。管程只能互斥地调用管程中的过程。
### 4.2 管程的基本形式
![](https://s2.loli.net/2022/12/12/aGU6Ye8TkMrLVSK.png)

### 4.3 管程的条件变量
条件变量：当调用管程过程的进程无法运行时，用于阻塞进程的信号量。
- 同步原语wait：当一个管程过程发现无法继续时，它在某些条件变量上执行wait，这个动作调用进程阻塞
- 同步原语signal：用于释放在条件变量上阻塞的进程。

#### 4.3.1 执行过程中signal处理
当signal释放一个等待进程时，可能出现两个进程同时停留在管程内。
解决方法：
- 执行signal的进程等待，知道被释放进程退出或等待另一个条件
- 被释放进程等待，直到执行signal的进程退出管程或等待另一个条件